<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.airtnt.airtnt.service.AmenityMapper">
 
<resultMap type="amenityDTO" id="amenityMap">
	<id column="id" property="id"/>
	<result column="property_id" property="propertyId"/>
	
	<result column="amenity_type_id" property="amenityTypeId"/>
	<result column="amenity_type_name" property="amenityTypeName"/>
</resultMap>

<select id="selectAmenities" parameterType="int" resultMap="amenityMap">
select al.*, at.name amenity_type_name
from amenity_list al, amenity_type at
where al.amenity_type_id=at.id and at.use_yn='y'
and al.property_id=#{propertyId}
</select>

</mapper>